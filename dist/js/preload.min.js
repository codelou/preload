!function($){function PreLoad(imgs,options){this.imgs="string"==typeof imgs?[imgs]:imgs,this.opts=$.extend({},PreLoad.DEFAULTS,options),this._unoredered()}PreLoad.DEFAULTS={each:null,all:null},PreLoad.prototype._unoredered=function(){var imgs=this.imgs,opts=this.opts,count=0,len=imgs.length;$.each(imgs,function(i,src){if("string"==typeof src){var imgObj=new Image;$(imgObj).on("load error",function(){opts.each&&opts.each(count),len-1<=count&&opts.all&&opts.all(),count++}),imgObj.src=src}})},$.extend({preload:function(imgs,opts){new PreLoad(imgs,opts)}}),console.log("外部",$.preload)}(jQuery);